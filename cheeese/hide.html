<!DOCTYPE html>
<html>
<head>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js">
	</script>

	<
	<script>
		$(function(){
			var elements, size, text, fulltext, shorttext, link, min_height, bloks_total;
			link = '<span>далее</span>';
			elements = $('.long');

			fulltext = "";
			size = 100;
			min_height = 100;
			bloks_total = $('body').find('.ta');
			console.log(bloks_total);
			for (var i = elements.length - 1; i >= 0; i--) {
				fulltext = elements[i].innerHTML;
				if (fulltext.length > size) {
					shorttext = fulltext.slice(0, size);
					if(bloks_total.length){
						for(i=0; i <= bloks_total.length - 1; i++){
							blok_height = $(bloks_total[i]).height();
							console.log(blok_height);
							if(blok_height > min_height){
								elements[i].innerHTML = fulltext;
							}
							else {
								elements[i].innerHTML = shorttext
							}
						}
					}
				}
			}
		});


	</script>
</head>
<body>

	<p class="ta long" style="width: 200px; height: 79px;">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Obcaecati cum et natus consectetur ratione ab laboriosam, esse illum, expedita, numquam, quae quisquam dolore. Necessitatibus dolorum assumenda minima reiciendis eum nobis officia magnam beatae ad tempora laboriosam ea, explicabo neque, sed amet. Iusto inventore blanditiis sint, excepturi unde nulla error, hic nam itaque neque facere deleniti assumenda natus fugiat molestias ullam harum temporibus culpa dolores voluptates vel tempora suscipit omnis. Laboriosam repellat officia itaque impedit similique nobis quos neque maxime est corporis vero asperiores aliquid sapiente, deleniti accusamus. Possimus in non vero, totam voluptatibus. Velit reprehenderit, magnam expedita vero iure omnis.</p>




</body>
</html>
